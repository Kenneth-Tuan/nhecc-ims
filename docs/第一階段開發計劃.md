# 第一階段開發計劃 (Phase 1 Development Plan)

本階段目標為建立系統核心基礎建設，並優先完成裝備與牧養系統。根據「使用者畫像 (Persona)」分析，本階段開發需特別著重於 **C 組數位移民 (56-75 歲)** 的使用體驗，落實 **「極簡、大字體、防呆」** 三大設計原則。

## 核心功能列表

| 功能模組                | 詳細項目 (User Stories & Tech Specs)                                                                                                                                                                    | 針對性優化 (UX Highlights)                                                                          | 預估工時 (人/日) |
| :---------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-------------------------------------------------------------------------------------------------- | :--------------: |
| **1. 會友資料中心**     | 1. **基本資料管理** (CRUD + 篩選排序)<br>2. **資料匯入/匯出**<br>3. **家庭/關聯帳號架構** (Schema Design)：支援 User A (家長/晚輩) 管理 User B (小孩/長輩) 的資料。                                     | **[Schema]** 需支援「代報名」與「代請假」的資料關聯，解決長輩無法自行操作的問題。                   |        6         |
| **2. 註冊/登入功能**    | 1. **LINE 第三方登入** (最優先，整合 LIFF)<br>2. **手機號碼 + OTP 簡訊驗證** (Firebase Auth / Supabase)<br>3. **無密碼登入體驗** (Passwordless)                                                         | **[防呆]** 移除傳統「帳號/密碼/確認密碼」表單。<br>**[便利]** 綁定 LINE 後自動帶入基本資料。        |        5         |
| **3. 系統使用權限管理** | 1. **角色管理** (Admin, Pastor, Leader, Member)<br>2. **功能權限矩陣** (RBAC)                                                                                                                           | 確保「小組長」能簡易地為組員進行操作 (代理權限)。                                                   |        3         |
| **4. 系統操作軌跡**     | 1. **使用者操作行為記錄** (Audit Logs)<br>2. **敏感資料存取監控**                                                                                                                                       | 記錄「誰幫誰」報名或修改資料，避免糾紛。                                                            |        3         |
| **5. 裝備系統**         | 1. **課程管理** (CRUD、搜尋)<br>2. **極簡報名流程**：選課 -> (確認對象) -> 確認 -> 完成。<br>3. **代報名功能**：可選擇「幫自己」或「幫關聯帳號」報名。<br>4. **點名與請假**：QR Code 掃描、大按鈕請假。 | **[流程]** 強制將報名步驟縮減至 **3 步以內**。<br>**[UI]** 點名按鈕需使用 **size="xl"**，避免誤觸。 |        14        |
| **6. 牧養系統**         | 1. **組織架構**：牧區 -> 小組 -> 組員<br>2. **牧養/探訪紀錄**：支援語音轉文字 (選配) 或快速標籤輸入。<br>3. **屬靈歷程 (Milestones)**：受洗、上課、服事紀錄視覺化。                                     | **[閱讀]** 紀錄內容字體需加大 (+2px)，高對比配色，方便年長牧者閱讀。                                |        11        |

### 總計預估工時：約 42 人/日

> **備註**：
>
> 1. 工時包含後端 API、前端頁面開發及單元測試。
> 2. **不包含**：詳細需求訪談、UI/UX 完稿、SIT/UAT 測試、部署環境建置。

---

## 使用者體驗與介面規範 (UX/UI Guidelines)

### 1. 主入口與導覽 (Entry & Navigation)

- **主入口**：透過 **Line 官方帳號** (Rich Menu) 直接進入系統 (LIFF)，降低安裝 App 門檻。
- **Mobile Navigation**：
  - **嚴禁漢堡選單 (Hamburger Menu)**：長輩看不懂，且左上角不易觸及。
  - **採用底部 Tab Bar (黃金數量原則)**：
    - 最多顯示 **5 個** 按鈕，每個按鈕必須搭配明確的「文字標籤」。
    - **第 5 個按鈕設為「更多」**：若功能超過 4 個，將次要功能收納於此。
    - **次要選單呈現**：點擊「更多」後，呼叫 **Nuxt UI `<UDrawer>` (抽屜元件)** 由底部滑出全螢幕選單，展示其餘功能。

### 2. 登入/註冊流程 (Auth Flow)

> **原則：75 歲長輩也能獨立完成**

- **情境 A (無帳號)**：點擊 Line Login -> 授權 -> (系統背景建立帳號) -> 進入首頁。
- **情境 B (無 Line/長輩)**：輸入手機號 -> 收到簡訊 -> 輸入 4-6 碼 -> 進入首頁。
- **禁止**：要求使用者設定複雜密碼 (如：需包含大小寫英文+符號)。

### 3. 版面佈局 (Layout Strategy)

- **Mobile First**：優先開發手機版面 (`<div class="md:hidden">`)，因為 90% 操作發生在手機上。
- **大字體策略**：
  - Body 預設字體：**18px** (一般為 16px)。
  - 輸入框與按鈕高度：至少 **48px** (觸控友善區)。
- **無障礙 (A11y)**：
  - 所有的 Icon 按鈕 (如「返回」箭頭) 必須加上 `aria-label="回到上一頁"`。

### 4. 關鍵功能：家庭/關聯帳號 (Family Accounts)

- **解決痛點**：長輩不會操作、小孩沒有手機。
- **實作邏輯**：
  - 一個 **主帳號 (Primary User)** 可以綁定多個 **從屬帳號 (Dependent Users)**。
  - 報名課程時，系統詢問：「您要幫誰報名？ (1. 自己 2. 媽媽 3. 兒子)」。

---

這是一個非常好的問題。設計 Tab Bar 的核心邏輯在於**「高頻率使用」**與**「核心價值」**的交集。

根據 `docs/NHECC IMS 系統架構.md` 以及我們剛定案的 `第一階段開發計劃`（特別是針對長輩與裝備/牧養優先的策略），我建議以下三個方向供您選擇。

### 核心考量：長輩最常做什麼？

1.  **找課程/上課**（裝備系統）
2.  **找組員/看代禱**（牧養系統）
3.  **秀 QR Code 點名**（身份識別）

---

### 提案 A：角色與功能導向（最推薦 ✅）

這個方案最符合「第一階段開發計劃」的重心，且邏輯分類最清晰。

| 順序 | 名稱     | Icon (Nuxt UI)             | 內容與設計邏輯                                                                                                                                |
| :--- | :------- | :------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------- |
| 1    | **首頁** | `i-heroicons-home`         | 系統入口、最新公告。                                                                                                                          |
| 2    | **課程** | `i-heroicons-academic-cap` | **對應：裝備系統**<br>長輩最常點擊的地方。這裡直接列出「我的課程」以及「可報名課程」。不用讓他們去深層選單找。                                |
| 3    | **牧養** | `i-heroicons-heart`        | **對應：牧養系統**<br>小組長點名、查詢組員；一般會友查看小組公告或代禱事項。這是教會生活的核心。                                              |
| 4    | **我的** | `i-heroicons-user`         | **對應：會友資料/家庭帳號**<br>**關鍵功能**：這裡要放 **QR Code (點名用)** 以及 **切換使用者 (幫媽媽報名)**。這對長輩非常重要，必須在第一層。 |
| 5    | **更多** | `i-heroicons-bars-3`       | 呼叫 Drawer，放場地租借、服事表、設定等次要功能。                                                                                             |

> **為什麼推薦 A？**
> 因為它完美涵蓋了 Phase 1 的兩大支柱（裝備、牧養）以及解決「家庭帳號切換」與「點名」的剛需。

---

### 提案 B：動作導向（強調線下互動）

如果教會非常強調「現場活動」與「簽到」，這個方案將「報到」獨立出來。

| 順序 | 名稱       | Icon                       | 內容與設計邏輯                                                                                                       |
| :--- | :--------- | :------------------------- | :------------------------------------------------------------------------------------------------------------------- |
| 1    | **首頁**   | `i-heroicons-home`         |                                                                                                                      |
| 2    | **行事曆** | `i-heroicons-calendar`     | **整合：課程 + 小組 + 服事**<br>長輩的邏輯是「今天要去哪？」。透過行事曆整合所有活動，點日期就能看到今天要上什麼課。 |
| 3    | **報到**   | `i-heroicons-qr-code`      | **功能：一鍵開啟掃描器/秀 QR Code**<br>放在正中間 (FAB - Floating Action Button 風格)，針對現場點名極致優化。        |
| 4    | **課程**   | `i-heroicons-academic-cap` | 單純的課程報名與列表。                                                                                               |
| 5    | **更多**   | `i-heroicons-bars-3`       | 含個人資料、牧養、場地等。                                                                                           |

> **缺點**：將「牧養」藏到了「更多」裡面，可能減弱小組連結感。且「行事曆」對介面設計挑戰較大，手機上容易太擠。

---

### 提案 C：極簡生活圈（社群導向）

如果教會文化是「以人為本」，強調小組生活。

| 順序 | 名稱     | Icon                      | 內容與設計邏輯                                             |
| :--- | :------- | :------------------------ | :--------------------------------------------------------- |
| 1    | **首頁** | `i-heroicons-home`        |                                                            |
| 2    | **小組** | `i-heroicons-users`       | **對應：牧養系統**<br>查看小組成員、聯絡方式、代禱。       |
| 3    | **學習** | `i-heroicons-book-open`   | **對應：裝備系統**<br>課程、靈修教材、每日嗎哪。           |
| 4    | **服事** | `i-heroicons-hand-raised` | **對應：服事管理**<br>排班表、詩歌庫。適合服事吃重的教會。 |
| 5    | **更多** | `i-heroicons-bars-3`      |                                                            |

> **缺點**：「服事」對於剛進教會的新人或年長者（如果不常服事）來說，是一個無用的 Tab，浪費了寶貴的空間。

---

### 綜合建議

根據您的系統架構與 Persona，我強烈建議採用 **提案 A**，並在設計細節上做一點微調：

1.  **Tab 2 (課程/裝備)**：這是 Phase 1 最複雜的功能（報名、請假、作業），必須獨立且明顯。
2.  **Tab 3 (牧養/小組)**：這是教會黏著度的來源。
3.  **Tab 4 (我的/個人)**：
    - 這是**「防呆」**的關鍵。
    - 當長輩要幫孫子報名時，他必須先來這裡確認「現在是用誰的身份？」。
    - **點名 QR Code** 也可以整合在這裡的顯眼處（例如卡片式設計）。

**最終建議結構：**
`[首頁]` - `[裝備]` - `[牧養]` - `[我的]` - `[更多]`

_(註：標籤名稱建議用兩個字，字體可以大一點，符合長輩需求)_
